(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{371:function(s,t,a){"use strict";a.r(t);var e=a(18),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"supabase-database-operations-guide"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supabase-database-operations-guide"}},[s._v("#")]),s._v(" Supabase Database Operations Guide")]),s._v(" "),t("h2",{attrs:{id:"_1-introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-introduction"}},[s._v("#")]),s._v(" 1. Introduction")]),s._v(" "),t("p",[s._v("This guide documents the various database operations for working with Supabase in this project. It covers setting up database access, querying user data, managing test users, and includes reusable scripts for common operations.")]),s._v(" "),t("p",[s._v("The primary tables we work with are:")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("auth.users")]),s._v(" - Contains user authentication information")]),s._v(" "),t("li",[t("code",[s._v("public.profiles")]),s._v(" - Contains additional user profile information")])]),s._v(" "),t("h2",{attrs:{id:"_2-setting-up-database-access"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-setting-up-database-access"}},[s._v("#")]),s._v(" 2. Setting Up Database Access")]),s._v(" "),t("h3",{attrs:{id:"adding-psql-to-system-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-psql-to-system-path"}},[s._v("#")]),s._v(" Adding PSQL to System PATH")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add PostgreSQL binaries to PATH permanently")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":Path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('";C:\\Program Files\\PostgreSQL\\17\\bin"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[Environment]")]),s._v("::SetEnvironmentVariable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":Path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("[System.EnvironmentVariableTarget]")]),s._v("::User"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Verify installation")]),s._v("\npsql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("version\n")])])]),t("h3",{attrs:{id:"supabase-connection-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supabase-connection-parameters"}},[s._v("#")]),s._v(" Supabase Connection Parameters")]),s._v(" "),t("p",[s._v("The following connection parameters are used for accessing the Supabase database:")]),s._v(" "),t("ul",[t("li",[s._v("Host: "),t("code",[s._v("aws-0-eu-central-1.pooler.supabase.com")])]),s._v(" "),t("li",[s._v("Port: "),t("code",[s._v("5432")])]),s._v(" "),t("li",[s._v("Database: "),t("code",[s._v("postgres")])]),s._v(" "),t("li",[s._v("Username: "),t("code",[s._v("postgres.wnaxmgtrdhlousolblcr")])]),s._v(" "),t("li",[s._v("SSL Mode: "),t("code",[s._v("require")])])]),s._v(" "),t("h3",{attrs:{id:"securely-storing-database-credentials"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#securely-storing-database-credentials"}},[s._v("#")]),s._v(" Securely Storing Database Credentials")]),s._v(" "),t("p",[s._v("We use Windows Credential Manager to securely store database credentials. This approach is more secure than storing passwords in plain text files and eliminates the need to enter passwords repeatedly.")]),s._v(" "),t("h4",{attrs:{id:"setting-up-credentials-one-time-setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-credentials-one-time-setup"}},[s._v("#")]),s._v(" Setting Up Credentials (One-Time Setup)")]),s._v(" "),t("p",[s._v("Run the "),t("code",[s._v("setup_db_credentials.ps1")]),s._v(" script to securely store your database password:")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# setup_db_credentials.ps1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Prompt for the database password securely")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$username")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postgres.wnaxmgtrdhlousolblcr"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Setting up secure credentials for Supabase database"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Username: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$username")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Read-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter your Supabase database password"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("AsSecureString\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create a PSCredential object")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$credential")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("New-Object")]),s._v(" System"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Management"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Automation"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PSCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Store the credential in Windows Credential Manager")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("New-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Credential "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$credential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Persist LocalMachine "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Type")]),s._v(" Generic\n")])])]),t("h4",{attrs:{id:"using-stored-credentials-in-scripts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-stored-credentials-in-scripts"}},[s._v("#")]),s._v(" Using Stored Credentials in Scripts")]),s._v(" "),t("p",[s._v("To use the stored credentials in your scripts:")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Retrieve the stored credential")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Get the password from the credential")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dbPassword")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GetNetworkCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Password\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Set the password as environment variable")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dbPassword")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Run your PostgreSQL command")]),s._v("\n& "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Program Files\\PostgreSQL\\17\\bin\\psql.exe"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host=aws-0-eu-central-1.pooler.supabase.com port=5432 dbname=postgres user=postgres.wnaxmgtrdhlousolblcr sslmode=require"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YOUR SQL QUERY HERE"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear the password from environment for security")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n")])])]),t("h2",{attrs:{id:"_3-working-with-user-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-working-with-user-data"}},[s._v("#")]),s._v(" 3. Working with User Data")]),s._v(" "),t("h3",{attrs:{id:"querying-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#querying-users"}},[s._v("#")]),s._v(" Querying Users")]),s._v(" "),t("p",[s._v("Basic query to get users:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n    u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("created_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("username\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users u\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("profiles p "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("created_at "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"using-powershell-to-execute-queries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-powershell-to-execute-queries"}},[s._v("#")]),s._v(" Using PowerShell to Execute Queries")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Retrieve the stored credential")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Get the password from the credential")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GetNetworkCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Password\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute query")]),s._v("\n& "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Program Files\\PostgreSQL\\17\\bin\\psql.exe"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host=aws-0-eu-central-1.pooler.supabase.com port=5432 dbname=postgres user=postgres.wnaxmgtrdhlousolblcr sslmode=require"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YOUR SQL QUERY HERE"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear password from environment")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n")])])]),t("h2",{attrs:{id:"_4-managing-test-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-managing-test-users"}},[s._v("#")]),s._v(" 4. Managing Test Users")]),s._v(" "),t("h3",{attrs:{id:"finding-test-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#finding-test-users"}},[s._v("#")]),s._v(" Finding Test Users")]),s._v(" "),t("p",[s._v("Query to find test users with specific patterns:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n    u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("username\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users u\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("profiles p "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%test%@gmail.com'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"deleting-test-users"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deleting-test-users"}},[s._v("#")]),s._v(" Deleting Test Users")]),s._v(" "),t("p",[s._v("Transaction-safe deletion of test users:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Delete from profiles first (to maintain referential integrity)")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("profiles \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%test%@gmail.com'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Then delete the users themselves")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users \n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" email "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%test%@gmail.com'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"_5-code-snippets-reusable-scripts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-code-snippets-reusable-scripts"}},[s._v("#")]),s._v(" 5. Code Snippets & Reusable Scripts")]),s._v(" "),t("h3",{attrs:{id:"query-test-users-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#query-test-users-script"}},[s._v("#")]),s._v(" Query Test Users Script")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# query_test_users.ps1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Script to query test users from Supabase")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Retrieve the stored credential")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Get the password from the credential")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GetNetworkCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Password\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Full path to PSQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$psqlPath")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Program Files\\PostgreSQL\\17\\bin\\psql.exe"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Run the query to find test users")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Running query to find test users..."')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use -o parameter to output to a file instead of relying on pager")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outputFile")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test_users_results.txt"')]),s._v("\n& "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$psqlPath")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host=aws-0-eu-central-1.pooler.supabase.com port=5432 dbname=postgres user=postgres.wnaxmgtrdhlousolblcr sslmode=require"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"SELECT u.id, u.email, p.username FROM auth.users u LEFT JOIN public.profiles p ON u.id = p.id WHERE u.email LIKE '%test%@gmail.com' LIMIT 5;\"")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outputFile")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Display the results")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Test-Path")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outputFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Test users found:"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-Content")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outputFile")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No results were returned or there was an error."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear the password from environment for security")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Query completed."')]),s._v("\n")])])]),t("h3",{attrs:{id:"delete-test-users-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-test-users-script"}},[s._v("#")]),s._v(" Delete Test Users Script")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# delete_test_users.ps1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Script to delete test users from Supabase database")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Retrieve the stored credential")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Get the password from the credential")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GetNetworkCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Password\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Full path to PSQL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$psqlPath")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Program Files\\PostgreSQL\\17\\bin\\psql.exe"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SQL for deleting test users")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$deleteUsersSQL")]),s._v(" = @"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"\nBEGIN;\n  -- Delete from profiles first (to maintain referential integrity)\n  DELETE FROM public.profiles \n  WHERE id IN (\n    SELECT id FROM auth.users \n    WHERE email LIKE '%test%@gmail.com'\n  );\n  \n  -- Then delete the users themselves\n  DELETE FROM auth.users \n  WHERE email LIKE '%test%@gmail.com';\nCOMMIT;\n\"")]),s._v("@\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Save the SQL to a file")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$deleteUsersSQL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Out-File")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("FilePath "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"delete_test_users.sql"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding utf8\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Run the deletion script")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Deleting test users..."')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ForegroundColor Yellow\n& "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$psqlPath")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host=aws-0-eu-central-1.pooler.supabase.com port=5432 dbname=postgres user=postgres.wnaxmgtrdhlousolblcr sslmode=require"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f delete_test_users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear the password from environment for security")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Write-Host")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Test users deletion completed."')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ForegroundColor Green\n")])])]),t("h2",{attrs:{id:"_6-running-pgtap-tests"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-running-pgtap-tests"}},[s._v("#")]),s._v(" 6. Running pgTAP Tests")]),s._v(" "),t("p",[s._v("The project includes pgTAP tests for validating database functionality. These tests can be run using the "),t("code",[s._v("run_pgtap_tests.ps1")]),s._v(" script, which also uses the secure credential management approach.")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Import the CredentialManager module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Import-Module")]),s._v(" CredentialManager\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Retrieve the stored credential")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Get-StoredCredential")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Target "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SupabaseDB"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Get the password from the credential")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dbPassword")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$storedCred")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GetNetworkCredential"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Password\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Set the password as environment variable")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dbPassword")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Run pgTAP tests")]),s._v("\n& "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$psqlPath")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$connectionString")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$testFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FullName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outputFile")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear the password from environment for security")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n")])])]),t("p",[s._v("For more information on the pgTAP tests, see the README in the "),t("code",[s._v("tests/pgtap")]),s._v(" directory.")]),s._v(" "),t("h2",{attrs:{id:"_7-security-best-practices"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-security-best-practices"}},[s._v("#")]),s._v(" 7. Security Best Practices")]),s._v(" "),t("h3",{attrs:{id:"handling-database-passwords"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#handling-database-passwords"}},[s._v("#")]),s._v(" Handling Database Passwords")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("Use Environment Variables")]),s._v(": Store passwords in environment variables rather than hardcoding them")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your_password_here"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use the password...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":PGPASSWORD = "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Clear after use")]),s._v("\n")])])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Use .env Files")]),s._v(": Store sensitive information in .env files (which are in .gitignore)")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Avoid Command History")]),s._v(": Don't pass passwords as command-line arguments where they might be stored in command history")])])]),s._v(" "),t("h3",{attrs:{id:"transaction-safety"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transaction-safety"}},[s._v("#")]),s._v(" Transaction Safety")]),s._v(" "),t("p",[s._v("Always use transactions for destructive operations:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Your destructive operations here")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("This ensures that operations either complete fully or not at all, maintaining database integrity.")]),s._v(" "),t("h2",{attrs:{id:"_8-troubleshooting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-troubleshooting"}},[s._v("#")]),s._v(" 8. Troubleshooting")]),s._v(" "),t("h3",{attrs:{id:"common-psql-connection-issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#common-psql-connection-issues"}},[s._v("#")]),s._v(" Common PSQL Connection Issues")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("SSL Mode")]),s._v(": Supabase requires "),t("code",[s._v("sslmode=require")]),s._v(" for connections")]),s._v(" "),t("li",[t("strong",[s._v("Password Prompts")]),s._v(": If PGPASSWORD environment variable isn't set, you'll be prompted for a password")]),s._v(" "),t("li",[t("strong",[s._v("Path Issues")]),s._v(": If psql isn't in your PATH, use the full path to the executable")])]),s._v(" "),t("h3",{attrs:{id:"output-formatting-problems"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#output-formatting-problems"}},[s._v("#")]),s._v(" Output Formatting Problems")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("Pager Issues")]),s._v(": On Windows, the default pager might cause issues. Use "),t("code",[s._v("-o filename")]),s._v(" to output to a file instead.")]),s._v(" "),t("li",[t("strong",[s._v("Line Ending Problems")]),s._v(": If output files have strange formatting, ensure you're using UTF-8 encoding:"),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Out-File")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("FilePath "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"output.txt"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Encoding utf8\n")])])])])]),s._v(" "),t("h3",{attrs:{id:"connection-string-format"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#connection-string-format"}},[s._v("#")]),s._v(" Connection String Format")]),s._v(" "),t("p",[s._v("The correct format for the connection string is:")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('"host=aws-0-eu-central-1.pooler.supabase.com port=5432 dbname=postgres user=postgres.wnaxmgtrdhlousolblcr sslmode=require"\n')])])]),t("hr"),s._v(" "),t("p",[s._v("This guide was created on March 22, 2025, and reflects the current database structure and connection parameters as of that date.")])])}),[],!1,null,null,null);t.default=r.exports}}]);