(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{350:function(t,a,e){"use strict";e.r(a);var s=e(18),n=function(t){t.options.__data__block__={mermaid_382ee1e8:'classDiagram\n    class AlbumObject {\n        <<Core Data>>\n        String id\n        String name\n        String emoji\n        Array~String~ songs\n        +getSongCount() int\n        +getFormattedTitle() String\n    }\n    \n    class UserSelections {\n        <<User Preferences>>\n        String albumId\n        Array~String~ selectedSongs\n        Array~String~ rankOrder\n        DateTime lastSaveTime\n        +addToRanking(songId) void\n        +removeFromRanking(songId) void\n        +moveInRanking(songId, newPosition) void\n        +canSaveRankings() boolean\n        +getTimeUntilNextSave() int\n    }\n    \n    class UserReviews {\n        <<User Content>>\n        String albumId\n        Number rating\n        String comment\n        DateTime timestamp\n        +updateRating(newRating) void\n        +updateComment(newComment) void\n        +shareReview() String\n    }\n    \n    class RankingHistory {\n        <<Version Control>>\n        String albumId\n        Array~HistoryEntry~ entries\n        +addEntry(changes) void\n        +getEntryByDate(date) HistoryEntry\n        +restoreRanking(entryId) void\n    }\n    \n    class HistoryEntry {\n        <<Change Record>>\n        String id\n        DateTime timestamp\n        Array~RankingChange~ changes\n        +getFormattedDate() String\n    }\n    \n    class RankingChange {\n        <<Diff Data>>\n        String songId\n        Number oldRank\n        Number newRank\n        String changeType\n        +getChangeDescription() String\n    }\n    \n    class UserAccount {\n        <<Authentication>>\n        String userId\n        String displayName\n        Boolean isGuest\n        Object privacySettings\n        +upgradeFromGuest() void\n        +updatePrivacySettings(settings) void\n    }\n    \n    class RedditVerification {\n        <<Social Auth>>\n        String redditUsername\n        Boolean isVerified\n        DateTime verifiedDate\n        String verificationStatus\n        +startVerification() void\n        +checkVerificationStatus() String\n    }\n    \n    class BestieMatching {\n        <<Social Data>>\n        Array~UserMatch~ matches\n        Number userRank\n        Number totalUsers\n        +refreshMatches() void\n        +filterByVerifiedOnly(boolean) void\n    }\n    \n    class UserMatch {\n        <<Comparison Data>>\n        String userId\n        String username\n        Number matchPercentage\n        Array~String~ commonFavorites\n        Boolean isVerified\n        +viewProfile() void\n    }\n    \n    AlbumObject "1" --o "0..1" UserSelections : references >\n    AlbumObject "1" --o "0..1" UserReviews : references >\n    UserSelections "1" --o "0..1" RankingHistory : tracks >\n    RankingHistory "1" --* "many" HistoryEntry : contains >\n    HistoryEntry "1" --* "many" RankingChange : details >\n    UserAccount "1" --o "0..1" RedditVerification : verifies >\n    UserAccount "1" --o "0..1" BestieMatching : compares >\n    BestieMatching "1" --* "many" UserMatch : ranks >\n',mermaid_382ee21f:'erDiagram\n    LOCALSTORAGE ||--o{ APP_DATA : stores\n    SUPABASE ||--o{ USER_DATA : authenticates\n    SERVER ||--o{ SOCIAL_DATA : processes\n    \n    LOCALSTORAGE {\n        string key "music-besties-data"\n        object value\n    }\n    \n    APP_DATA {\n        object selectedSongs\n        object rankings\n        object reviews\n        object history\n        object userPreferences\n        object lastSaveTime\n    }\n    \n    SUPABASE {\n        string userId\n        object authData\n    }\n    \n    USER_DATA {\n        string displayName\n        boolean isGuest\n        object privacySettings\n        object redditVerification\n    }\n    \n    SERVER {\n        object matchingAlgorithm\n        object verificationStatus\n    }\n    \n    SOCIAL_DATA {\n        array bestieMatches\n        number userRank\n        object sharedContent\n    }\n    \n    APP_DATA ||--o{ SELECTED_SONGS : contains\n    APP_DATA ||--o{ RANKINGS : contains\n    APP_DATA ||--o{ REVIEWS : contains\n    APP_DATA ||--o{ HISTORY : contains\n    APP_DATA ||--o{ USER_PREFERENCES : contains\n    \n    SELECTED_SONGS {\n        string albumId\n        array songList\n    }\n    \n    RANKINGS {\n        string categoryId\n        array orderedItems\n        datetime lastSaveTime\n    }\n    \n    REVIEWS {\n        string albumId\n        number rating\n        string comment\n        datetime timestamp\n    }\n    \n    HISTORY {\n        string albumId\n        array entries\n    }\n    \n    USER_PREFERENCES {\n        object theme\n        object notifications\n        object privacy\n    }\n'}},r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"data-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-management"}},[t._v("#")]),t._v(" Data Management")]),t._v(" "),a("p",[t._v("This section details the technical implementation of the Music Besties application v1.1.")]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("Music Besties uses a structured data model to organize music era and song information. The application implements a unidirectional data flow pattern with several primary types of data:")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("Static Era Data")]),t._v(": Pre-defined information about music eras including identifiers, titles, and song lists")]),t._v(" "),a("li",[a("strong",[t._v("User Preference Data")]),t._v(": User-generated content including selections, rankings, ratings, and reviews")]),t._v(" "),a("li",[a("strong",[t._v("History Data")]),t._v(": Timestamped records of ranking changes for tracking user preferences over time")]),t._v(" "),a("li",[a("strong",[t._v("User Account Data")]),t._v(": Optional user account information and authentication status")]),t._v(" "),a("li",[a("strong",[t._v("Social Data")]),t._v(": User matching data and Reddit verification status")])]),t._v(" "),a("p",[t._v("The data structure is designed to be lightweight and efficient, with a clear separation between core era data and user-specific preferences. This separation allows the application to reset user data without affecting the underlying era information if needed.")]),t._v(" "),a("p",[t._v("Data is stored in multiple locations depending on its type and purpose:")]),t._v(" "),a("ul",[a("li",[t._v("Core application data is stored locally in the browser's LocalStorage")]),t._v(" "),a("li",[t._v("User account data is managed through Supabase authentication")]),t._v(" "),a("li",[t._v("Social comparison data is processed on the server but controlled by user privacy settings")])]),t._v(" "),a("p",[t._v("The application uses a reactive state management approach to ensure that UI components automatically update when the underlying data changes.")]),t._v(" "),a("p",[a("strong",[t._v("Figure: Enhanced Data Structure Model")])]),t._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1e8",graph:t.$dataBlock.mermaid_382ee1e8}}),a("p",[a("em",[t._v("Conceptual diagram showing the relationships and composition of album objects, user selections, review data, ranking history, user accounts, and social features. Provides developers with an understanding of the enhanced data architecture to properly implement state management for v1.1 features.")])]),t._v(" "),a("h3",{attrs:{id:"state-structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-structure"}},[t._v("#")]),t._v(" State Structure")]),t._v(" "),a("p",[t._v("The application's state is stored in multiple locations with this structure:")]),t._v(" "),a("p",[a("strong",[t._v("Figure: Enhanced Storage Data Structure")])]),t._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee21f",graph:t.$dataBlock.mermaid_382ee21f}}),a("p",[a("em",[t._v("Enhanced JSON structure showing the format of stored data including selectedSongs, rankings, reviews, history, and user preferences with their nested properties. Ensures consistent data persistence implementation with the correct property names and data types for v1.1 features.")])]),t._v(" "),a("h2",{attrs:{id:"storage-mechanisms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#storage-mechanisms"}},[t._v("#")]),t._v(" Storage Mechanisms")]),t._v(" "),a("h3",{attrs:{id:"localstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage"}},[t._v("#")]),t._v(" LocalStorage")]),t._v(" "),a("p",[t._v("The application uses the browser's LocalStorage API to persist user data between sessions. This approach has the following advantages:")]),t._v(" "),a("ul",[a("li",[t._v("No server-side storage requirements for core functionality")]),t._v(" "),a("li",[t._v("Data remains available even when offline")]),t._v(" "),a("li",[t._v("Simple API for storing and retrieving JSON data")])]),t._v(" "),a("p",[t._v("However, it also has limitations:")]),t._v(" "),a("ul",[a("li",[t._v("Limited storage capacity (typically 5-10MB)")]),t._v(" "),a("li",[t._v("Data is specific to a browser and device")]),t._v(" "),a("li",[t._v("No synchronization between devices without additional services")])]),t._v(" "),a("h3",{attrs:{id:"in-memory-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#in-memory-state"}},[t._v("#")]),t._v(" In-memory State")]),t._v(" "),a("p",[t._v("During runtime, the application maintains an in-memory state that is synchronized with LocalStorage. This approach provides:")]),t._v(" "),a("ul",[a("li",[t._v("Fast access to data during user interactions")]),t._v(" "),a("li",[t._v("Ability to make temporary changes before persisting")]),t._v(" "),a("li",[t._v("Simplified state management through Vue.js reactivity")])]),t._v(" "),a("h3",{attrs:{id:"supabase-integration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supabase-integration"}},[t._v("#")]),t._v(" Supabase Integration")]),t._v(" "),a("p",[t._v("For v1.1, the application integrates with Supabase for user authentication and social features:")]),t._v(" "),a("ul",[a("li",[t._v("User accounts and authentication")]),t._v(" "),a("li",[t._v("Reddit verification status")]),t._v(" "),a("li",[t._v("Privacy settings storage")]),t._v(" "),a("li",[t._v("Cross-device synchronization (for authenticated users)")])]),t._v(" "),a("h3",{attrs:{id:"server-side-processing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server-side-processing"}},[t._v("#")]),t._v(" Server-side Processing")]),t._v(" "),a("p",[t._v("Social comparison features require server-side processing:")]),t._v(" "),a("ul",[a("li",[t._v("Bestie matching algorithm compares user preferences")]),t._v(" "),a("li",[t._v("League table generation ranks users by similarity")]),t._v(" "),a("li",[t._v("Shared content generation creates shareable links and previews")])]),t._v(" "),a("h2",{attrs:{id:"data-models"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-models"}},[t._v("#")]),t._v(" Data Models")]),t._v(" "),a("h3",{attrs:{id:"history-tracking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#history-tracking"}},[t._v("#")]),t._v(" History Tracking")]),t._v(" "),a("p",[t._v("Ranking history is stored as a series of timestamped entries with change details:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"history"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist_1683590400000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"timestamp"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2025-05-08T15:00:00.000Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"songId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state_of_grace"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oldRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"newRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changeType"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moved"')]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"songId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"22"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oldRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"newRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changeType"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moved"')]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist_1682985600000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"timestamp"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2025-05-01T15:00:00.000Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"songId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i_knew_you_were_trouble"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oldRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"newRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changeType"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"removed"')]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"songId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state_of_grace"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"oldRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"newRank"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"changeType"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"added"')]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"cooldown-timer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cooldown-timer"}},[t._v("#")]),t._v(" Cooldown Timer")]),t._v(" "),a("p",[t._v("The application enforces a 24-hour cooldown between ranking saves by tracking the last save time:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lastSaveTime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2025-05-08T15:00:00.000Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"fearless"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2025-05-07T10:30:00.000Z"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The cooldown timer component uses this data to:")]),t._v(" "),a("ol",[a("li",[t._v("Calculate time remaining until next save is allowed")]),t._v(" "),a("li",[t._v("Display appropriate feedback to users")]),t._v(" "),a("li",[t._v("Enable/disable the save button based on eligibility")])]),t._v(" "),a("h3",{attrs:{id:"privacy-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#privacy-settings"}},[t._v("#")]),t._v(" Privacy Settings")]),t._v(" "),a("p",[t._v("User privacy settings control what information is visible to other users:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"privacySettings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"publicProfile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"showRankings"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"showReviews"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"showBesties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("These settings are applied when:")]),t._v(" "),a("ol",[a("li",[t._v("Generating public profile pages")]),t._v(" "),a("li",[t._v("Calculating bestie matches")]),t._v(" "),a("li",[t._v("Creating shareable content")])]),t._v(" "),a("h3",{attrs:{id:"reddit-verification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reddit-verification"}},[t._v("#")]),t._v(" Reddit Verification")]),t._v(" "),a("p",[t._v("Reddit verification status is stored to determine access to social features:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"redditVerification"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music_fan_123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"isVerified"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"verifiedDate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2025-05-05T09:15:00.000Z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"verificationStatus"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"verified"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Possible verification statuses include:")]),t._v(" "),a("ul",[a("li",[t._v('"not_verified" - User has not initiated verification')]),t._v(" "),a("li",[t._v('"pending" - Verification in progress')]),t._v(" "),a("li",[t._v('"verified" - Successfully verified')]),t._v(" "),a("li",[t._v('"failed" - Verification unsuccessful')])]),t._v(" "),a("h2",{attrs:{id:"data-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-flow"}},[t._v("#")]),t._v(" Data Flow")]),t._v(" "),a("h3",{attrs:{id:"ranking-updates-with-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ranking-updates-with-history"}},[t._v("#")]),t._v(" Ranking Updates with History")]),t._v(" "),a("p",[t._v("When a user saves new rankings, the application:")]),t._v(" "),a("ol",[a("li",[t._v("Compares the new rankings with the previous state")]),t._v(" "),a("li",[t._v("Generates a change record with added, removed, and moved items")]),t._v(" "),a("li",[t._v("Creates a timestamped history entry with the changes")]),t._v(" "),a("li",[t._v("Updates the current rankings in LocalStorage")]),t._v(" "),a("li",[t._v("Updates the lastSaveTime to enforce the 24-hour cooldown")]),t._v(" "),a("li",[t._v("Triggers a UI update to reflect the changes")])]),t._v(" "),a("h3",{attrs:{id:"social-data-processing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#social-data-processing"}},[t._v("#")]),t._v(" Social Data Processing")]),t._v(" "),a("p",[t._v("The bestie matching feature follows this data flow:")]),t._v(" "),a("ol",[a("li",[t._v("User preferences are anonymized and sent to the server")]),t._v(" "),a("li",[t._v("Server compares preferences with other users' data")]),t._v(" "),a("li",[t._v("Similarity scores are calculated based on ranking overlap")]),t._v(" "),a("li",[t._v("A league table is generated with match percentages")]),t._v(" "),a("li",[t._v("Results are filtered based on privacy settings")]),t._v(" "),a("li",[t._v("The UI is updated to display matches")])]),t._v(" "),a("h3",{attrs:{id:"guest-mode-to-account-upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guest-mode-to-account-upgrade"}},[t._v("#")]),t._v(" Guest Mode to Account Upgrade")]),t._v(" "),a("p",[t._v("When a guest user creates an account:")]),t._v(" "),a("ol",[a("li",[t._v("LocalStorage data is preserved")]),t._v(" "),a("li",[t._v("User authentication is established with Supabase")]),t._v(" "),a("li",[t._v("LocalStorage data is associated with the new user ID")]),t._v(" "),a("li",[t._v("Default privacy settings are applied")]),t._v(" "),a("li",[t._v("User is prompted to verify their Reddit account")]),t._v(" "),a("li",[t._v("UI is updated to reflect authenticated status")])]),t._v(" "),a("h2",{attrs:{id:"data-security-and-privacy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-security-and-privacy"}},[t._v("#")]),t._v(" Data Security and Privacy")]),t._v(" "),a("h3",{attrs:{id:"local-first-approach"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#local-first-approach"}},[t._v("#")]),t._v(" Local-First Approach")]),t._v(" "),a("p",[t._v("The application follows a local-first approach where:")]),t._v(" "),a("ul",[a("li",[t._v("Core functionality works without server connectivity")]),t._v(" "),a("li",[t._v("Personal data remains on the device when possible")]),t._v(" "),a("li",[t._v("Server interactions are limited to social features")])]),t._v(" "),a("h3",{attrs:{id:"privacy-by-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#privacy-by-design"}},[t._v("#")]),t._v(" Privacy by Design")]),t._v(" "),a("p",[t._v("Privacy controls are implemented following these principles:")]),t._v(" "),a("ul",[a("li",[t._v("Opt-in sharing (all sharing is disabled by default)")]),t._v(" "),a("li",[t._v("Granular controls for different types of data")]),t._v(" "),a("li",[t._v("Clear visual indicators for what's being shared")]),t._v(" "),a("li",[t._v("Easy way to revoke access to shared content")])]),t._v(" "),a("h3",{attrs:{id:"data-minimization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-minimization"}},[t._v("#")]),t._v(" Data Minimization")]),t._v(" "),a("p",[t._v("For social features, the application:")]),t._v(" "),a("ul",[a("li",[t._v("Only shares the minimum data needed for functionality")]),t._v(" "),a("li",[t._v("Anonymizes data where possible")]),t._v(" "),a("li",[t._v("Respects user privacy settings at all times")]),t._v(" "),a("li",[t._v("Provides transparency about what data is used for matching")])])],1)}),[],!1,null,null,null);"function"==typeof n&&n(r);a.default=r.exports}}]);